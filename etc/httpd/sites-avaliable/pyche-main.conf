
<VirtualHost *:80>
        ServerName sample.com
        ServerAdmin admin@sample.com

        Redirect permanent / https://sample.com/

        LogLevel warn
        ErrorLog    /etc/httpd/logs/pyche_main_error.log
        CustomLog   /etc/httpd/logs/pyche_main_access.log combined
</VirtualHost>


<IfModule mod_ssl.c>
        <VirtualHost *:443>
                ServerName sample.com
                ServerAdmin admin@sample.com

                WSGIScriptAlias / /var/www/python/pyche-main/wsgi.py

                <Directory /var/www/python/pyche-main/>
                                        WSGIScriptReloading On
                                        Options -Indexes
                                        AllowOverride All
                                        #Order deny,allow
                                        Order allow,deny
                                        Allow from all
                </Directory>

                LogLevel warn
                ErrorLog    /etc/httpd/logs/pyche_main_error.log
                CustomLog   /etc/httpd/logs/pyche_main_access.log combined

                SSLCertificateFile /etc/letsencrypt/live/sample.com/cert.pem
                SSLCertificateKeyFile /etc/letsencrypt/live/sample.com/privkey.pem
                Include /etc/letsencrypt/options-ssl-apache.conf
                SSLCertificateChainFile /etc/letsencrypt/live/sample.com/chain.pem
        </VirtualHost>
</IfModule>